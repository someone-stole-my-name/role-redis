bind {{ redis_bind_addr }}
dir /tmp
sentinel monitor {{ redis_initial_master }} {{ redis_initial_master_ip }} {{ redis_port }} {{ redis_sentinel_quorum }}
sentinel down-after-milliseconds {{ redis_initial_master }} {{ redis_sentinel_down_after }}
sentinel failover-timeout {{ redis_initial_master }} {{ redis_sentinel_failover_timeout }}

{% if redis_tls %}
tls-port {{ redis_sentinel_port }}
port 0
tls-auth-clients yes
tls-ca-cert-file {{ redis_config_dir }}/tls_ca.crt
tls-key-file {{ redis_config_dir }}/tls_key.key
tls-cert-file {{ redis_config_dir }}/tls_cert.crt
tls-replication yes
{% else %}
port {{ redis_sentinel_port }}
{% endif %}
